<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title></title>
</head>
<body>
    <script>
    // 순수 함수
    // -항상 동일한 인자를 주면 동일한 결과를 return 하기 떄문
    // -부수 효과가 없기 떄문 (return값을 주는것 외의 영향이 없다.)
    function add(a, b){
        return a + b;
    }

    console.log( add(10, 5));
    console.log( add(10, 5));
    console.log( add(10, 5));
    

    var c = 10;
    function add2(a, b){
        return a + b + c;
    }

    console.log( add2(10, 2));
    console.log( add2(10, 3));
    console.log( add2(10, 4));
    c = 20;
    console.log( add2(10, 2));
    console.log( add2(10, 3));
    console.log( add2(10, 4));


    // 아래 함수는 부수효과가 있는 함수이므로 순수 함수가 아니다.
    // return 값으로 소통하는 것 외에 어떠한 다른 출력이 있다면
    // 그것은 부수효과이다.
    var c = 20;
    function add3(a, b){
        c = b;
        return a + b;
    }

    console.log('c : ',c);  //20
    console.log( add3(20, 30));
    console.log( add3(20, 30));
    console.log('c : ',c);  //30 
    console.log( add3(20, 30));
    
    // 이 함수는 넘어온 값을 바꿔버린다.
    var obj1 = { val: 10 };
    function add4(obj, b) {
        obj.val += b;
    }
    console.log(obj1.val);  // 10
    add4(obj1, 20);
    console.log(obj1.val);  // 30

    // 다시 순수 함수
    var obj1 = { val: 10 };
    function add5(obj, b){
        // 여기서 obj.val을 참조만 할 뿐 바꾸지 않는다.
        return { val: obj.val + b }
    }

    console.log(obj1.val);
    var obj2 = add5(obj1, 20);
    console.log(obj1.val);
    console.log(obj2.val);


    </script>
</body>
</html>